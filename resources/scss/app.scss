// Payroll System SCSS - Bootstrap 5 Customization
// Modern, accessible, and mobile-first design system

// Import Bootstrap 5
@import "node_modules/bootstrap/scss/functions";
@import "node_modules/bootstrap/scss/variables";
@import "node_modules/bootstrap/scss/variables-dark";

// Custom Variables (override Bootstrap defaults)
$primary: #0d6efd;
$secondary: #6c757d;
$success: #198754;
$info: #0dcaf0;
$warning: #ffc107;
$danger: #dc3545;
$light: #f8f9fa;
$dark: #212529;

// Enhanced Color Palette
$blue-50: #f0f9ff;
$blue-100: #e0f2fe;
$blue-200: #bae6fd;
$blue-300: #7dd3fc;
$blue-400: #38bdf8;
$blue-500: #0ea5e9;
$blue-600: #0284c7;
$blue-700: #0369a1;
$blue-800: #075985;
$blue-900: #0c4a6e;

$green-50: #f0fdf4;
$green-100: #dcfce7;
$green-200: #bbf7d0;
$green-300: #86efac;
$green-400: #4ade80;
$green-500: #22c55e;
$green-600: #16a34a;
$green-700: #15803d;
$green-800: #166534;
$green-900: #14532d;

$orange-50: #fff7ed;
$orange-100: #fed7aa;
$orange-200: #fdba74;
$orange-300: #fb923c;
$orange-400: #f97316;
$orange-500: #ea580c;
$orange-600: #c2410c;
$orange-700: #9a3412;
$orange-800: #7c2d12;
$orange-900: #431407;

// Typography
$font-family-sans-serif: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
$font-family-monospace: "JetBrains Mono", "Fira Code", Consolas, monospace;

$font-size-base: 1rem; // 16px
$font-size-sm: 0.875rem; // 14px
$font-size-lg: 1.125rem; // 18px
$font-size-xl: 1.25rem; // 20px
$font-size-2xl: 1.5rem; // 24px
$font-size-3xl: 1.875rem; // 30px
$font-size-4xl: 2.25rem; // 36px

$font-weight-light: 300;
$font-weight-normal: 400;
$font-weight-medium: 500;
$font-weight-semibold: 600;
$font-weight-bold: 700;

$line-height-base: 1.6;
$line-height-sm: 1.4;
$line-height-lg: 1.8;

// Spacing System (more granular)
$spacer: 1rem;
$spacer-xs: 0.25rem; // 4px
$spacer-sm: 0.5rem; // 8px
$spacer-md: 0.75rem; // 12px
$spacer-lg: 1.25rem; // 20px
$spacer-xl: 1.5rem; // 24px
$spacer-2xl: 2rem; // 32px
$spacer-3xl: 3rem; // 48px
$spacer-4xl: 4rem; // 64px

// Border Radius
$border-radius-sm: 0.25rem;
$border-radius: 0.375rem;
$border-radius-lg: 0.5rem;
$border-radius-xl: 0.75rem;
$border-radius-2xl: 1rem;
$border-radius-full: 50%;

// Box Shadows
$box-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
$box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
$box-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
$box-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
$box-shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
$box-shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

// Transitions
$transition-base: all 0.3s ease;
$transition-fast: all 0.15s ease;
$transition-slow: all 0.5s ease;

// Z-index Scale
$z-index-dropdown: 1000;
$z-index-sticky: 1020;
$z-index-fixed: 1030;
$z-index-modal-backdrop: 1040;
$z-index-modal: 1050;
$z-index-popover: 1060;
$z-index-tooltip: 1070;
$z-index-toast: 1080;

// Breakpoints (enhanced for better mobile experience)
$grid-breakpoints: (
  xs: 0,
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px,
  xxl: 1400px,
  xxxl: 1600px // Ultra-wide screens
);

$container-max-widths: (
  sm: 540px,
  md: 720px,
  lg: 960px,
  xl: 1140px,
  xxl: 1320px,
  xxxl: 1500px
);

// Override Bootstrap variables with custom values
$enable-rounded: true;
$enable-shadows: true;
$enable-gradients: false;
$enable-transitions: true;

$border-radius: $border-radius;
$border-radius-lg: $border-radius-lg;
$border-radius-sm: $border-radius-sm;

$box-shadow: $box-shadow;
$box-shadow-sm: $box-shadow-sm;
$box-shadow-lg: $box-shadow-lg;

$transition-base: $transition-base;

$font-family-sans-serif: $font-family-sans-serif;
$font-size-base: $font-size-base;
$font-weight-normal: $font-weight-normal;
$line-height-base: $line-height-base;

$spacer: $spacer;
$border-width: 1px;

// Import Bootstrap 5 components
@import "node_modules/bootstrap/scss/maps";
@import "node_modules/bootstrap/scss/mixins";
@import "node_modules/bootstrap/scss/utilities";

// Core Bootstrap
@import "node_modules/bootstrap/scss/root";
@import "node_modules/bootstrap/scss/reboot";
@import "node_modules/bootstrap/scss/type";
@import "node_modules/bootstrap/scss/images";
@import "node_modules/bootstrap/scss/containers";
@import "node_modules/bootstrap/scss/grid";

// Components
@import "node_modules/bootstrap/scss/tables";
@import "node_modules/bootstrap/scss/forms";
@import "node_modules/bootstrap/scss/buttons";
@import "node_modules/bootstrap/scss/transitions";
@import "node_modules/bootstrap/scss/dropdown";
@import "node_modules/bootstrap/scss/button-group";
@import "node_modules/bootstrap/scss/nav";
@import "node_modules/bootstrap/scss/navbar";
@import "node_modules/bootstrap/scss/card";
@import "node_modules/bootstrap/scss/accordion";
@import "node_modules/bootstrap/scss/breadcrumb";
@import "node_modules/bootstrap/scss/pagination";
@import "node_modules/bootstrap/scss/badge";
@import "node_modules/bootstrap/scss/alert";
@import "node_modules/bootstrap/scss/progress";
@import "node_modules/bootstrap/scss/list-group";
@import "node_modules/bootstrap/scss/close";
@import "node_modules/bootstrap/scss/toasts";
@import "node_modules/bootstrap/scss/modal";
@import "node_modules/bootstrap/scss/tooltip";
@import "node_modules/bootstrap/scss/popover";
@import "node_modules/bootstrap/scss/carousel";
@import "node_modules/bootstrap/scss/spinners";
@import "node_modules/bootstrap/scss/offcanvas";
@import "node_modules/bootstrap/scss/placeholders";

// Helpers
@import "node_modules/bootstrap/scss/helpers";

// Utilities
@import "node_modules/bootstrap/scss/utilities/api";

// Custom Components and Styles

// ===================================
// PAYROLL SYSTEM CUSTOM STYLES
// ===================================

// Import custom partials
@import "custom-variables";
@import "components";
@import "layout";
@import "forms";
@import "tables";
@import "navigation";
@import "dashboard";
@import "modals";
@import "animations";
@import "accessibility";
@import "print";
@import "utilities";

// Dark Mode Support
@if $enable-dark-mode {
  @include color-mode(dark) {
    @import "dark-mode";
  }
}

// ===================================
// UTILITY CLASSES
// ===================================

// Spacing utilities
@each $prop, $abbrev in (margin: m, padding: p) {
  @each $size, $length in (0: 0, 1: $spacer-xs, 2: $spacer-sm, 3: $spacer-md, 4: $spacer-lg, 5: $spacer-xl) {
    .#{$abbrev}-#{$size} { #{$prop}: $length !important; }
    .#{$abbrev}t-#{$size} { #{$prop}-top: $length !important; }
    .#{$abbrev}r-#{$size} { #{$prop}-right: $length !important; }
    .#{$abbrev}b-#{$size} { #{$prop}-bottom: $length !important; }
    .#{$abbrev}l-#{$size} { #{$prop}-left: $length !important; }
    .#{$abbrev}x-#{$size} {
      #{$prop}-left: $length !important;
      #{$prop}-right: $length !important;
    }
    .#{$abbrev}y-#{$size} {
      #{$prop}-top: $length !important;
      #{$prop}-bottom: $length !important;
    }
  }
}

// Text utilities
.text-primary-light { color: rgba($primary, 0.7) !important; }
.text-secondary-light { color: rgba($secondary, 0.7) !important; }
.text-success-light { color: rgba($success, 0.7) !important; }
.text-info-light { color: rgba($info, 0.7) !important; }
.text-warning-light { color: rgba($warning, 0.7) !important; }
.text-danger-light { color: rgba($danger, 0.7) !important; }

// Background utilities
.bg-primary-light { background-color: rgba($primary, 0.1) !important; }
.bg-secondary-light { background-color: rgba($secondary, 0.1) !important; }
.bg-success-light { background-color: rgba($success, 0.1) !important; }
.bg-info-light { background-color: rgba($info, 0.1) !important; }
.bg-warning-light { background-color: rgba($warning, 0.1) !important; }
.bg-danger-light { background-color: rgba($danger, 0.1) !important; }

// Border utilities
.border-primary-light { border-color: rgba($primary, 0.3) !important; }
.border-secondary-light { border-color: rgba($secondary, 0.3) !important; }
.border-success-light { border-color: rgba($success, 0.3) !important; }
.border-info-light { border-color: rgba($info, 0.3) !important; }
.border-warning-light { border-color: rgba($warning, 0.3) !important; }
.border-danger-light { border-color: rgba($danger, 0.3) !important; }

// Shadow utilities
.shadow-sm { box-shadow: $box-shadow-sm !important; }
.shadow { box-shadow: $box-shadow !important; }
.shadow-md { box-shadow: $box-shadow-md !important; }
.shadow-lg { box-shadow: $box-shadow-lg !important; }
.shadow-xl { box-shadow: $box-shadow-xl !important; }
.shadow-2xl { box-shadow: $box-shadow-2xl !important; }

// Hover utilities
.hover-lift {
  transition: transform $transition-fast;
  &:hover {
    transform: translateY(-2px);
  }
}

.hover-scale {
  transition: transform $transition-fast;
  &:hover {
    transform: scale(1.05);
  }
}

.hover-shadow {
  transition: box-shadow $transition-fast;
  &:hover {
    box-shadow: $box-shadow-lg;
  }
}

// Responsive utilities
@media (max-width: 575.98px) {
  .d-xs-none { display: none !important; }
  .d-xs-block { display: block !important; }
  .d-xs-flex { display: flex !important; }
  .d-xs-inline { display: inline !important; }
  .d-xs-inline-block { display: inline-block !important; }
}

// ===================================
// COMPONENT EXTENSIONS
// ===================================

// Enhanced buttons
.btn {
  font-weight: $font-weight-medium;
  letter-spacing: 0.025em;
  min-height: 44px; // WCAG touch target size
  transition: $transition-base;

  &:focus {
    box-shadow: 0 0 0 0.2rem rgba($primary, 0.25);
  }

  &.btn-lg {
    min-height: 52px;
  }

  &.btn-sm {
    min-height: 36px;
  }
}

// Enhanced cards
.card {
  border: none;
  box-shadow: $box-shadow-sm;
  transition: $transition-base;

  &:hover {
    box-shadow: $box-shadow-md;
    transform: translateY(-2px);
  }

  &.card-hover {
    &:hover {
      box-shadow: $box-shadow-lg;
    }
  }
}

// Enhanced form controls
.form-control,
.form-select {
  min-height: 44px; // WCAG touch target size
  font-weight: $font-weight-normal;
  transition: $transition-base;

  &:focus {
    border-color: $primary;
    box-shadow: 0 0 0 0.2rem rgba($primary, 0.25);
  }

  &.is-valid {
    border-color: $success;
    background-image: escape-svg(url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23{$success}' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e"));
  }

  &.is-invalid {
    border-color: $danger;
    background-image: escape-svg(url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23{$danger}'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23{$danger}' stroke='none'/%3e%3c/svg%3e"));
  }
}

// Enhanced tables
.table {
  --bs-table-striped-bg: rgba($primary, 0.02);
  --bs-table-hover-bg: rgba($primary, 0.04);

  th {
    font-weight: $font-weight-semibold;
    color: var(--bs-gray-700);
    border-bottom: 2px solid var(--bs-gray-200);
  }

  &.table-dark {
    --bs-table-striped-bg: rgba(255, 255, 255, 0.02);
    --bs-table-hover-bg: rgba(255, 255, 255, 0.04);
  }
}

// ===================================
// RESPONSIVE DESIGN
// ===================================

// Mobile-first adjustments
@media (max-width: 767.98px) {
  .container-fluid {
    padding-left: $spacer-md;
    padding-right: $spacer-md;
  }

  .card {
    margin-bottom: $spacer-md;
  }

  .btn {
    width: 100%;
    margin-bottom: $spacer-sm;

    &.btn-block {
      width: 100%;
    }

    &.btn-sm-block {
      @include media-breakpoint-up(sm) {
        width: auto;
      }
    }
  }

  .form-row {
    > .col,
    > [class*="col-"] {
      margin-bottom: $spacer-md;
    }
  }

  // Touch-friendly adjustments
  .form-control,
  .form-select,
  .btn {
    min-height: 48px;
  }

  .table-responsive {
    font-size: $font-size-sm;
  }
}

// Tablet adjustments
@media (min-width: 768px) and (max-width: 991.98px) {
  .container {
    max-width: map-get($container-max-widths, md);
  }
}

// Large desktop adjustments
@media (min-width: 1400px) {
  .container {
    max-width: map-get($container-max-widths, xxl);
  }
}

// Ultra-wide screens
@media (min-width: 1600px) {
  .container {
    max-width: map-get($container-max-widths, xxxl);
  }

  .container-xl {
    max-width: 1640px;
  }
}

// ===================================
// ACCESSIBILITY ENHANCEMENTS
// ===================================

// Focus improvements
:focus-visible {
  outline: 2px solid $primary;
  outline-offset: 2px;
}

// Screen reader only content
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// Skip links
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: $primary;
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: $border-radius;
  z-index: 9999;

  &:focus {
    top: 6px;
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  .btn {
    border-width: 2px;
  }

  .card {
    border: 2px solid var(--bs-border-color);
  }

  .form-control,
  .form-select {
    border-width: 2px;
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}